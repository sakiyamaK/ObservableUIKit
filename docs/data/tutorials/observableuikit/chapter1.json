{"kind":"project","metadata":{"categoryPathComponent":"Tutorial-Table-of-Contents","category":"tutorial","role":"project","title":"ObservationUIKit"},"sections":[{"chapter":"データの用意からViewの監視まで","image":"demo.png","title":"ObservationUIKit","estimatedTimeInMinutes":10,"content":[{"inlineContent":[{"type":"text","text":"ObservationをUIKitでシンプルに扱えるようにするライブラリのチュートリアルです"}],"type":"paragraph"}],"kind":"hero","backgroundImage":"demo.png"},{"tasks":[{"anchor":"データの用意からViewの監視まで","contentSection":[{"mediaPosition":"trailing","kind":"contentAndMedia","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"データの用意からViewの監視まで"}]}]}],"stepsSection":[{"caption":[],"type":"step","runtimePreview":null,"code":"step1.swift","media":null,"content":[{"inlineContent":[{"text":"監視対象となるデータをObservableで用意します","type":"text"}],"type":"paragraph"}]},{"caption":[],"type":"step","runtimePreview":null,"code":"step2.swift","media":null,"content":[{"inlineContent":[{"type":"text","text":"TestDataとプリミティブなbool値をもつViewControllerを用意します"}],"type":"paragraph"}]},{"caption":[],"type":"step","runtimePreview":null,"code":"step3.swift","media":null,"content":[{"inlineContent":[{"type":"text","text":"TestDataとプリミティブなbool値を監視してViewを更新させます"}],"type":"paragraph"}]}],"title":"データの用意からViewの監視まで"}],"kind":"tasks"}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/ObservableUIKit\/Chapter1"},"schemaVersion":{"minor":3,"major":0,"patch":0},"hierarchy":{"modules":[{"projects":[{"reference":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/ObservableUIKit\/Chapter1","sections":[{"reference":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/ObservableUIKit\/Chapter1#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%94%A8%E6%84%8F%E3%81%8B%E3%82%89View%E3%81%AE%E7%9B%A3%E8%A6%96%E3%81%BE%E3%81%A7","kind":"task"}]}],"reference":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/Tutorial-Table-of-Contents\/--------View-----"}],"reference":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/Tutorial-Table-of-Contents","paths":[["doc:\/\/observableuikit.ObservableUIKit\/tutorials\/Tutorial-Table-of-Contents","doc:\/\/observableuikit.ObservableUIKit\/tutorials\/Tutorial-Table-of-Contents\/$volume","doc:\/\/observableuikit.ObservableUIKit\/tutorials\/Tutorial-Table-of-Contents\/--------View-----"]]},"variants":[{"paths":["\/tutorials\/observableuikit\/chapter1"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"step3.swift":{"syntax":"swift","fileName":"ViewController.swift","fileType":"swift","highlights":[{"line":41},{"line":42},{"line":43},{"line":44},{"line":45},{"line":46},{"line":47},{"line":48},{"line":49},{"line":50},{"line":51},{"line":52},{"line":53},{"line":54},{"line":55},{"line":56},{"line":57},{"line":58},{"line":59},{"line":60},{"line":61},{"line":62},{"line":63},{"line":64},{"line":65},{"line":66},{"line":67},{"line":68},{"line":69},{"line":70},{"line":71},{"line":72},{"line":73},{"line":74},{"line":75},{"line":76},{"line":77},{"line":78},{"line":79},{"line":80},{"line":81},{"line":82}],"identifier":"step3.swift","type":"file","content":["import UIKit","import ObservableUIKit","","final class ViewController: UIViewController {","","    \/\/ 監視対象のデータ","    private var testData: TestData","    \/\/ 監視対象のプリミティブ型","    @UIKitState private var isLoading: Bool = true","","    init(testData: TestData = TestData()) {","        self.testData = testData","        super.init(nibName: nil, bundle: nil)","    }","","    private let testView: UIView = {","        let view = UIView(frame: .zero)","        view.translatesAutoresizingMaskIntoConstraints = false","        return view","    }()","","    private let testLabel: UILabel = {","        let label = UILabel(frame: .zero)","        label.translatesAutoresizingMaskIntoConstraints = false","        return label","    }()","","    private let indicator: UIActivityIndicatorView = {","        let view = UIActivityIndicatorView(frame: .zero)","        view.translatesAutoresizingMaskIntoConstraints = false","        view.startAnimating()","        return view","    }()","","    required init?(coder: NSCoder) {","        fatalError(\"init(coder:) has not been implemented\")","    }","","    override func viewDidLoad() {","        super.viewDidLoad()","        \/\/ Viewをaddsubviewしておきます","","        \/*","         ここから追記","         *\/","","        \/\/ UIViewの各パラメータを監視します","        testView.tracking {[weak self] in","            self?.testData.cornerRadius","        } onChange: { view, cornerRadius in","            view.layer.cornerRadius = cornerRadius","        }.tracking {[weak self] in","            self?.testData.rotate","        } onChange: { view, angle in","            view.transform = .init(rotationAngle: angle)","        }.trackingOptional {[weak self] in","            self?.testData.color","        } onChange: { view, color in","            view.backgroundColor = color","        }","","        \/\/ UILabelの各パラメータを監視","        testLabel.tracking {[weak self] in","            self?.testData.title ?? \"default\"","        } onChange: { label, title in","            label.text = title","        }.tracking {[weak self] in","            self?.testData.color","        } onChange: { label, textColor in","            label.textColor = textColor","        }","","        \/\/ UIActivityIndicatorのパラメータを監視","        indicator.tracking {[weak self] in","            self!.isLoading","        } onChange: { indicator, loading in","            if loading {","                indicator.startAnimating()","            } else {","                indicator.stopAnimating()","            }","        }","    }","}"]},"step2.swift":{"content":["import UIKit","import ObservableUIKit","","final class ViewController: UIViewController {","","    \/\/ 監視対象のデータ","    private var testData: TestData","    \/\/ 監視対象のプリミティブ型","    @UIKitState private var isLoading: Bool = true","","    init(testData: TestData = TestData()) {","        self.testData = testData","        super.init(nibName: nil, bundle: nil)","    }","","    private let testView: UIView = {","        let view = UIView(frame: .zero)","        view.translatesAutoresizingMaskIntoConstraints = false","        return view","    }()","","    private let testLabel: UILabel = {","        let label = UILabel(frame: .zero)","        label.translatesAutoresizingMaskIntoConstraints = false","        return label","    }()","","    private let indicator: UIActivityIndicatorView = {","        let view = UIActivityIndicatorView(frame: .zero)","        view.translatesAutoresizingMaskIntoConstraints = false","        view.startAnimating()","        return view","    }()","","    required init?(coder: NSCoder) {","        fatalError(\"init(coder:) has not been implemented\")","    }","","    override func viewDidLoad() {","        super.viewDidLoad()","        \/\/ Viewをaddsubviewしておきます        ","    }","}"],"type":"file","syntax":"swift","fileName":"ViewController.swift","highlights":[],"fileType":"swift","identifier":"step2.swift"},"doc://observableuikit.ObservableUIKit/tutorials/ObservableUIKit/Chapter1":{"type":"topic","role":"project","url":"\/tutorials\/observableuikit\/chapter1","abstract":[{"type":"text","text":"ObservationをUIKitでシンプルに扱えるようにするライブラリのチュートリアルです"}],"kind":"project","identifier":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/ObservableUIKit\/Chapter1","estimatedTime":"10min","title":"ObservationUIKit"},"demo.png":{"identifier":"demo.png","type":"image","alt":"demo","variants":[{"url":"\/images\/observableuikit.ObservableUIKit\/demo.png","traits":["1x","light"]}]},"doc://observableuikit.ObservableUIKit/tutorials/Tutorial-Table-of-Contents":{"kind":"overview","abstract":[{"text":"ObservationをUIKitでシンプルに扱えるようにするライブラリのチュートリアルです","type":"text"}],"role":"overview","url":"\/tutorials\/tutorial-table-of-contents","title":"Tutorial of ObservableUIKit","identifier":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/Tutorial-Table-of-Contents","type":"topic"},"doc://observableuikit.ObservableUIKit/tutorials/ObservableUIKit/Chapter1#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%94%A8%E6%84%8F%E3%81%8B%E3%82%89View%E3%81%AE%E7%9B%A3%E8%A6%96%E3%81%BE%E3%81%A7":{"title":"データの用意からViewの監視まで","kind":"section","url":"\/tutorials\/observableuikit\/chapter1#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%94%A8%E6%84%8F%E3%81%8B%E3%82%89View%E3%81%AE%E7%9B%A3%E8%A6%96%E3%81%BE%E3%81%A7","type":"section","identifier":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/ObservableUIKit\/Chapter1#%E3%83%87%E3%83%BC%E3%82%BF%E3%81%AE%E7%94%A8%E6%84%8F%E3%81%8B%E3%82%89View%E3%81%AE%E7%9B%A3%E8%A6%96%E3%81%BE%E3%81%A7","abstract":[{"text":"ObservationをUIKitでシンプルに扱えるようにするライブラリのチュートリアルです","type":"text"}],"role":"pseudoSymbol"},"doc://observableuikit.ObservableUIKit/tutorials/Tutorial-Table-of-Contents/--------View-----":{"abstract":[],"kind":"article","title":"データの用意からViewの監視まで","role":"article","url":"\/tutorials\/tutorial-table-of-contents\/--------view-----","type":"topic","identifier":"doc:\/\/observableuikit.ObservableUIKit\/tutorials\/Tutorial-Table-of-Contents\/--------View-----"},"step1.swift":{"fileType":"swift","fileName":"TestData.swift","content":["import UIKit","","\/\/ 監視対象のデータ","@Observable","final class TestData {","    var color: UIColor = .green","    var rotate: CGFloat = 0","    var cornerRadius: CGFloat = 0","    var title: String?","}"],"type":"file","identifier":"step1.swift","highlights":[],"syntax":"swift"}}}